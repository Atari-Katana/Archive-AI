# Agent Stress Test Cases (Chunk 4.10)
# Tests the ReAct agent framework with diverse scenarios

test_cases:
  # Basic Tool Tests (6 basic tools)
  - id: "basic-001"
    name: "Simple Calculator"
    question: "What is 456 multiplied by 789?"
    expected_tools: ["Calculator"]
    expected_answer: "359784"
    difficulty: "easy"
    category: "basic_tools"

  - id: "basic-002"
    name: "String Length"
    question: "How many characters are in the word 'supercalifragilisticexpialidocious'?"
    expected_tools: ["StringLength"]
    expected_answer: "34"
    difficulty: "easy"
    category: "basic_tools"

  - id: "basic-003"
    name: "Word Count"
    question: "Count the words in this sentence: The quick brown fox jumps over the lazy dog"
    expected_tools: ["WordCount"]
    expected_answer: "9"
    difficulty: "easy"
    category: "basic_tools"

  - id: "basic-004"
    name: "Reverse String"
    question: "What is 'hello world' reversed?"
    expected_tools: ["ReverseString"]
    expected_answer: "dlrow olleh"
    difficulty: "easy"
    category: "basic_tools"

  - id: "basic-005"
    name: "Uppercase Conversion"
    question: "Convert 'archive ai' to uppercase"
    expected_tools: ["ToUppercase"]
    expected_answer: "ARCHIVE AI"
    difficulty: "easy"
    category: "basic_tools"

  - id: "basic-006"
    name: "Extract Numbers"
    question: "Extract all numbers from this text: abc123def456ghi789"
    expected_tools: ["ExtractNumbers"]
    expected_answer: "123, 456, 789"
    difficulty: "easy"
    category: "basic_tools"

  # Advanced Tool Tests (5 advanced tools)
  - id: "advanced-001"
    name: "Memory Search"
    question: "Search my memories for anything related to 'calculator'"
    expected_tools: ["MemorySearch"]
    difficulty: "medium"
    category: "advanced_tools"

  - id: "advanced-002"
    name: "Code Execution - Factorial"
    question: "Write Python code to calculate the factorial of 7"
    expected_tools: ["CodeExecution"]
    expected_answer: "5040"
    difficulty: "medium"
    category: "advanced_tools"

  - id: "advanced-003"
    name: "Current DateTime"
    question: "What is the current date and time?"
    expected_tools: ["DateTime"]
    difficulty: "easy"
    category: "advanced_tools"

  - id: "advanced-004"
    name: "JSON Parsing"
    question: "Parse this JSON and tell me the value of 'name': {\"name\": \"Archive-AI\", \"version\": \"7.5\"}"
    expected_tools: ["JSON"]
    expected_answer: "Archive-AI"
    difficulty: "medium"
    category: "advanced_tools"

  # Multi-Step Reasoning Tests
  - id: "multi-001"
    name: "Calculator Chain"
    question: "Calculate (25 + 75) divided by 5, then multiply the result by 3"
    expected_tools: ["Calculator"]
    expected_answer: "60"
    difficulty: "medium"
    category: "multi_step"

  - id: "multi-002"
    name: "String Manipulation Chain"
    question: "Take the word 'Python', convert it to uppercase, then reverse it, then tell me how many characters it has"
    expected_tools: ["ToUppercase", "ReverseString", "StringLength"]
    expected_answer: "6"
    difficulty: "medium"
    category: "multi_step"

  - id: "multi-003"
    name: "Math and Text"
    question: "Calculate 144 divided by 12, then convert that number to words and count the letters"
    expected_tools: ["Calculator", "StringLength"]
    expected_answer: "6" # "twelve" has 6 letters
    difficulty: "hard"
    category: "multi_step"

  - id: "multi-004"
    name: "Code and Calculate"
    question: "Write Python code to find all prime numbers between 1 and 20, then count how many there are"
    expected_tools: ["CodeExecution"]
    expected_answer: "8" # Primes: 2,3,5,7,11,13,17,19
    difficulty: "hard"
    category: "multi_step"

  - id: "multi-005"
    name: "Memory and Time"
    question: "What's the current time? Then search my memories for any conversations about 'time'"
    expected_tools: ["DateTime", "MemorySearch"]
    difficulty: "medium"
    category: "multi_step"

  # Edge Cases and Error Recovery
  - id: "edge-001"
    name: "Division by Zero (should handle gracefully)"
    question: "What is 100 divided by 0?"
    expected_tools: ["Calculator"]
    difficulty: "medium"
    category: "edge_cases"
    expect_error: true

  - id: "edge-002"
    name: "Invalid JSON"
    question: "Parse this JSON: {invalid json here}"
    expected_tools: ["JSON"]
    difficulty: "medium"
    category: "edge_cases"
    expect_error: true

  - id: "edge-003"
    name: "Empty String Operations"
    question: "What is the length of an empty string?"
    expected_tools: ["StringLength"]
    expected_answer: "0"
    difficulty: "easy"
    category: "edge_cases"

  - id: "edge-004"
    name: "Very Large Calculation"
    question: "Calculate 999999 multiplied by 888888"
    expected_tools: ["Calculator"]
    expected_answer: "888887111112"
    difficulty: "medium"
    category: "edge_cases"

  # Complex Real-World Scenarios
  - id: "complex-001"
    name: "Text Analysis Pipeline"
    question: "Take this text 'The AI system has 42 tools and 7 modes', extract the numbers, sum them up, then tell me if the result is greater than 45"
    expected_tools: ["ExtractNumbers", "Calculator"]
    expected_answer: "49" # 42+7=49, which is > 45
    difficulty: "hard"
    category: "complex"

  - id: "complex-002"
    name: "Data Processing"
    question: "Write Python code to calculate the sum of squares of numbers from 1 to 10"
    expected_tools: ["CodeExecution"]
    expected_answer: "385" # 1²+2²+...+10² = 385
    difficulty: "hard"
    category: "complex"

  - id: "complex-003"
    name: "String and Math Combo"
    question: "Count the words in 'Archive AI is a cognitive framework', then multiply that count by 6"
    expected_tools: ["WordCount", "Calculator"]
    expected_answer: "36" # 6 words * 6 = 36
    difficulty: "medium"
    category: "complex"

  - id: "complex-004"
    name: "Character Counting (Known Bug)"
    question: "How many times does the letter 's' appear in the word 'mississippi'?"
    expected_tools: ["CodeExecution"] # Should use code to count
    expected_answer: "4"
    difficulty: "hard"
    category: "complex"
    known_issue: "Letter counting is a known LLM weakness"

  - id: "complex-005"
    name: "Fibonacci Sequence"
    question: "Write Python code to generate the first 10 Fibonacci numbers"
    expected_tools: ["CodeExecution"]
    expected_answer: "0, 1, 1, 2, 3, 5, 8, 13, 21, 34"
    difficulty: "hard"
    category: "complex"

  # Ambiguous Queries (Tests Reasoning)
  - id: "ambig-001"
    name: "Implicit Math"
    question: "If I have 3 apples and buy 7 more, how many do I have?"
    expected_tools: ["Calculator"]
    expected_answer: "10"
    difficulty: "medium"
    category: "reasoning"

  - id: "ambig-002"
    name: "Word Problem"
    question: "A string has 15 characters, then 3 are removed. What's the new length?"
    expected_tools: ["Calculator"]
    expected_answer: "12"
    difficulty: "medium"
    category: "reasoning"

  - id: "ambig-003"
    name: "Time Awareness"
    question: "What year is it right now?"
    expected_answer: "2026"
    expected_tools: ["DateTime"]
    difficulty: "easy"
    category: "reasoning"

# Test Configuration
config:
  max_steps_per_test: 10
  timeout_seconds: 60
  retry_on_timeout: false
  log_level: "INFO"
  stop_on_first_failure: false

# Success Criteria
success_criteria:
  minimum_success_rate: 0.80 # 80% of tests must pass
  maximum_avg_steps: 5 # Average < 5 steps per task
  maximum_avg_time: 15 # Average < 15 seconds per task
  no_infinite_loops: true
  timeout_handling: true
